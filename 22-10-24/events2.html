<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        h1 {
            /* 클릭을 여러번 했을 때 글자가 선택되는 걸 방지 */
            user-select: none;
        }
    </style>
</head>
<body>
    <h1>클릭 : 0</h1>
    <button id="connect">이벤트 연결</button>
    <button id="disconButton">이벤트 제거</button>
    <p>이벤트 연결 상태 : 해제</p>
    <script>
      let counter = 0
      let isConnect = false // 현재 이벤트의 상태를 판단
      
      const h1 = document.querySelector('h1')
      const p = document.querySelector('p')
      const conButton = document.querySelector('#connect')
      const disButton = document.querySelector('#disconButton')

      const listener = function (){
        counter++
        h1.textContent = `클릭 : ${counter}`
      }


      conButton.addEventListener('click', function(){
        if(isConnect === false) {
          //이벤트가 연결이 안된 상태일 때
          h1.addEventListener('click',listener)
          p.textContent = "이벤트 연결 상태 : 연결"
          isConnect = true
        }
      })
      disconButton.addEventListener('click', function(){
        if (isConnect == true) {
          h1.removeEventListener('click', listener)
          p.textContent = "이벤트 연결 상태 : 해제"
          isConnect = false

        }
      })


    
    </script>
</body>
</html>